---
sidebar_position: 16
slug: /domains
---

# Настройка собственного домена

## Обзор

Данное руководство поможет вам подключить собственный домен к вашему приложению, развернутому в CloudPub. Процесс включает в себя настройку DNS-записей у вашего регистратора домена и добавление домена в панели управления CloudPub.

## Предварительные требования

- Зарегистрированный домен (например, example.com)
- Доступ к панели управления DNS у вашего регистратора домена
- Развернутое приложение в CloudPub

## Шаг 1: Добавление домена

1. Войдите в панель управления CloudPub
2. Перейдите в раздел "Домены"
3. Нажмите кнопку "Добавить"

![Добавление домена](/img/domain1.png)

4. В поле "Домен" введите ваш домен (например, `example.com`)
5. В поле "Публикация" выберите публикацию, к которой будет привязан домен

## Шаг 2: Настройка DNS-записей

После добавления домена в CloudPub, перейдите на вкладку "Инструкция по настройке DNS", где вы найдете точные значения для создания необходимых записей.

![Настройка DNS](/img/domain2.png)

Вам потребуется создать следующие записи:

### Для поддомена третьего уровня (например, mysite.example.com)

Создайте запись типа **CNAME** с параметрами, указанными в инструкции:
- **Имя записи**: значение из инструкции для CNAME
- **Значение**: значение из инструкции для CNAME

### Для домена второго уровня (например, example.com)

Создайте запись типа **A** с параметрами, указанными в инструкции:
- **Имя записи**: значение из инструкции для A-записи
- **Значение**: IP-адрес из инструкции для A-записи

### Запись для верификации домена

Для подтверждения владения доменом необходимо создать запись типа **TXT**:
- **Имя записи**: значение из инструкции для TXT-записи
- **Значение**: значение из инструкции для TXT-записи

## Шаг 3: Настройка DNS у регистратора

1. Войдите в панель управления вашего регистратора домена
2. Найдите раздел управления DNS (обычно называется "Управление зоной", "DNS Zone", или "Name Servers")
3. Создайте необходимые записи согласно информации из CloudPub
4. Сохраните изменения

## Время распространения изменений

После настройки DNS-записей изменения могут распространяться от нескольких минут до 24 часов. Обычно процесс занимает 15-30 минут.

Статус домена будет автоматически обновлен в панели управления CloudPub после успешной верификации.

## Проверка настройки

Вы можете проверить правильность настройки DNS с помощью следующих инструментов:

### Командная строка

```bash
# Проверка A-записи
nslookup example.com

# Проверка CNAME-записи
nslookup mysite.example.com

# Проверка TXT-записи
nslookup -type=txt example.com
```

### Онлайн-инструменты
- [DNS Checker](https://dnschecker.org)
- [WhatsMyDNS](https://whatsmydns.net)
- [DNS Lookup](https://mxtoolbox.com/dnsLookup.aspx)

## Возможные проблемы и решения

### Домен не работает через 24 часа
- Проверьте правильность DNS-записей
- Убедитесь, что записи созданы в корректной DNS-зоне
- Проверьте TTL (время жизни) записей - возможно, нужно подождать дольше

### Наличие AAAA-записи с неверным IPv6 адресом

- Если у вас есть AAAA-запись для домена, убедитесь, что она указывает на правильный IPv6 адрес
- При наличии неверной AAAA-записи - удалите её

### Несколько одинаковых A или CNAME записей

- Проверьте, нет ли дублирующихся записей одного типа для одного домена
- Удалите старые или неверные записи
- Оставьте только правильную запись, указанную в инструкции CloudPub

### Ошибка SSL-сертификата или ошибка 404

- SSL-сертификат выпускается автоматически после успешной верификации домена
- Процесс может занять до 15 минут
- Убедитесь, что домен корректно указывает на серверы CloudPub
